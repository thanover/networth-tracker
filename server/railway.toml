[build]
builder = "DOCKERFILE"
dockerfilePath = "Dockerfile"
watchPatterns = ["server/**"]

[deploy]
startCommand = "node src/index.js"
healthcheckPath = "/api/health"
healthcheckTimeout = 100
restartPolicyType = "ON_FAILURE"
restartPolicyMaxRetries = 3

# Seed a demo user with sample accounts in PR preview environments only.
# Production has no SEED_DEMO_DATA variable set, so it never seeds.
[environments.pr.variables]
SEED_DEMO_DATA = "true"
